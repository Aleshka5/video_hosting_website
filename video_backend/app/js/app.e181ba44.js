(function(){var e={793:function(e,t,s){"use strict";var i=s(9242);const o="",r={getUrl(e){return`${o}/${e}`},durationToString(e){const t=Math.floor(e/3600),s=Math.floor((e-3600*t)/60),i=e-3600*t-60*s,o=t<10?`0${t}`:`${t}`,r=s<10?`0${s}`:`${s}`,a=i<10?`0${i}`:`${i}`;return t>0?`${o}:${r}:${a}`:`${r}:${a}`},frameToSeconds(e,t){return Math.round(e/t)}};var a=r,n=s(3396);function l(e,t,s,i,o,r){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a)}var c=s(6520),d=s(65),u=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let p=class extends c.w3{mounted(){const e=(0,d.oR)();e.commit("initialiseStore")}};p=u([(0,c.Ei)({})],p);var h=p,g=s(89);const v=(0,g.Z)(h,[["render",l]]);var m=v,f=s(2483),w=s(7139);const y={class:"container-fluid pb-0"},b=(0,n.uE)('<div class="top-mobile-search"><div class="row"><div class="col-md-12"><form class="mobile-search"><div class="input-group"><input type="text" placeholder="Search for..." class="form-control"><div class="input-group-append"><button type="button" class="btn btn-dark"><i class="fas fa-search"></i></button></div></div></form></div></div></div>',1),_={class:"video-block section-padding"},k={class:"row"},Z=(0,n._)("div",{class:"col-md-12"},[(0,n._)("div",{class:"main-title"},[(0,n._)("div",{class:"btn-group float-right right-action"}),(0,n._)("h6",null,"Видеоролики")])],-1),D={class:"video-card"},$={class:"video-card-image"},E=["href"],U=(0,n._)("i",{class:"fas fa-play-circle"},null,-1),R=[U],A=["href"],O=["src"],P={class:"time"},S={class:"video-card-body"},j={class:"video-title"},M=["href"],I={class:"video-page text-success"},L=(0,n._)("a",{title:"","data-placement":"top","data-toggle":"tooltip",href:"#","data-original-title":"Verified"},[(0,n._)("i",{class:"fas fa-check-circle text-success"})],-1),N=(0,n._)("hr",{class:"mt-0"},null,-1);function x(e,t,s,i,o,r){return(0,n.wg)(),(0,n.iD)("div",y,[b,(0,n._)("div",_,[(0,n._)("div",k,[Z,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.videos,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"col-xl-3 col-sm-6 mb-3",key:t.id},[(0,n._)("div",D,[(0,n._)("div",$,[(0,n._)("a",{class:"play-icon",href:`/video/${t.id}`},R,8,E),(0,n._)("a",{href:`/video/${t.id}`},[(0,n._)("img",{class:"img-fluid",src:e.$utils.getUrl(t.videoPreviewPath),alt:""},null,8,O)],8,A),(0,n._)("div",P,(0,w.zw)(e.$utils.durationToString(t.durationSeconds)),1)]),(0,n._)("div",S,[(0,n._)("div",j,[(0,n._)("a",{href:`/video/${t.id}`},(0,w.zw)(t.videoName),9,M)]),(0,n._)("div",I,[(0,n.Uk)((0,w.zw)(t.videoCategory)+" ",1),L])])])])))),128))])]),N])}var G=s(7327);const C="";async function T(e){let t=await fetch(e);if(!t.ok)if(401===t.status){const s=e,i={method:s.method,body:s.body};if(t=await fetch(new Request(s.url,i)),!t.ok)throw new Error(t.statusText)}else if(400!==t.status){const e=await t.text();throw new Error(e)}let s=null;try{s=await t.json()}catch(i){throw new Error("Error parse json")}return s}async function Y(e){const t={method:"get",headers:{"Content-Type":"application/json"}},s=await T(new Request(`${C}${e}`,t));return s}async function H(e,t){const s={method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}},i=await T(new Request(`${C}${e}`,s));return i}async function F(e,t){const s={method:"post",body:t,headers:{Accept:"application/json"}},i=await fetch(new Request(`${C}${e}`,s));if(!i.ok&&400!==i.status){const e=await i.text();throw new Error(e)}let o=null;try{o=await i.json()}catch(r){throw new Error("Error parse json")}return o}async function z(e){const t=await H("/api/register",e);return t}async function q(e){const t=await H("/api/login",e);return t}async function V(e){const t=await F("/api/videos/upload",e);return t}async function J(e){const t=await H("/api/process/start",e);return t}async function Q(e){const t=await Y(`/api/process/status/${e}`);return t}async function W(){const e=await Y("/api/videos");return e}async function K(e){const t=await Y(`/api/videos/${e}`);return t}async function B(e){const t=await Y(`/api/subtitles/${e}`);return t}var X=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let ee=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"videos",[])}async mounted(){this.videos=await W()}};ee=X([(0,c.Ei)({components:{}})],ee);var te=ee;const se=(0,g.Z)(te,[["render",x]]);var ie=se;const oe={class:"container-fluid pb-0"},re={class:"video-block section-padding"},ae={class:"row"},ne={class:"col-md-8"},le={class:"single-video-left"},ce={key:0},de={key:1,class:"single-video"},ue={class:"single-video-title box mb-3"},pe={class:"single-video-info-content box mb-3"},he=(0,n._)("h6",null,"Категория :",-1),ge=(0,n._)("h6",null,"Описание :",-1),ve={class:"col-md-4"},me={class:"single-video-right"},fe={key:0,class:"row"},we=(0,n._)("div",{class:"col-md-12"},[(0,n._)("h5",null,"Аннотации:")],-1),ye={class:"video-card video-card-list"},be={class:"video-card-body"},_e={class:"video-title"},ke={class:"time-s"};function Ze(e,t,s,i,o,r){const a=(0,n.up)("VideoPlayer");return(0,n.wg)(),(0,n.iD)("div",oe,[(0,n._)("div",re,[(0,n._)("div",ae,[(0,n._)("div",ne,[(0,n._)("div",le,[e.videoOptions?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",ce," Загрузка... ")),e.videoOptions?((0,n.wg)(),(0,n.iD)("div",de,[(0,n.Wm)(a,{options:e.videoOptions,subtitles:e.subtitles,fps:e.fps},null,8,["options","subtitles","fps"])])):(0,n.kq)("",!0),(0,n._)("div",ue,[(0,n._)("h2",null,(0,w.zw)(e.video?.videoName),1)]),(0,n._)("div",pe,[he,(0,n._)("p",null,(0,w.zw)(e.video?.videoCategory),1),ge,(0,n._)("p",null,(0,w.zw)(e.video?.videoDescription),1)])])]),(0,n._)("div",ve,[(0,n._)("div",me,[e.video?((0,n.wg)(),(0,n.iD)("div",fe,[we,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.subtitles,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"col-md-12",key:t.id},[(0,n._)("div",ye,[(0,n._)("div",be,[(0,n._)("div",_e,[(0,n._)("span",ke,(0,w.zw)(e.$utils.durationToString(e.$utils.frameToSeconds(t.startFrame,this.fps))),1),(0,n.Uk)(),(0,n._)("b",null,(0,w.zw)(t.textSubtitle),1)])])])])))),128))])):(0,n.kq)("",!0)])])])])])}const De={class:"channels-card-image-btn"},$e={ref:"videoPlayer",class:"video-js",width:"1080"},Ee={ref:"audioPlayerRef",id:"player"};function Ue(e,t,s,i,o,r){return(0,n.wg)(),(0,n.iD)("div",null,[(0,n._)("div",De,[(0,n._)("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:t[0]||(t[0]=(...t)=>e.onRecognitionStart&&e.onRecognitionStart(...t))},"Включить голосовое управление")]),(0,n._)("video",$e,null,512),(0,n._)("audio",Ee,null,512)])}var Re=s(8278),Ae=s(9519),Oe=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let Pe=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"fps",void 0),(0,G.Z)(this,"options",void 0),(0,G.Z)(this,"subtitles",void 0),(0,G.Z)(this,"player",void 0),(0,G.Z)(this,"audioPlayerRef",void 0),(0,G.Z)(this,"timeDict",{}),(0,G.Z)(this,"audioDict",{}),(0,G.Z)(this,"timer",void 0),(0,G.Z)(this,"recognition",void 0),(0,G.Z)(this,"videoPlayer",void 0),(0,G.Z)(this,"audioPlayer",void 0)}mounted(){this.initSpeachRecognition();for(let e=0;e<this.subtitles.length;e++){const t=this.subtitles[e],s=a.frameToSeconds(t.startFrame,this.fps);if(this.timeDict[s]=e,t.voiceFilePath){const e=a.getUrl(t.voiceFilePath),s=new Audio(e);s.preload="auto",s.addEventListener("canplaythrough",this.loadedAudio,!1),this.audioDict[t.voiceFilePath]=s}}this.player=(0,Ae.Z)(this.videoPlayer,this.options,(()=>{this.player.log("onPlayerReady",this)})),this.player.on("loadedmetadata",this.onLoadedMetadata),this.player.on("timeupdate",this.onTimeUpdate)}initSpeachRecognition(){this.recognition=new webkitSpeechRecognition,this.recognition.continuous=!0,this.recognition.lang="ru-RU",this.recognition.interimResults=!1,this.recognition.maxAlternatives=1,this.recognition.onresult=this.onRecognitionEvent,this.recognition.onspeechend=this.onSpeechEnd,this.recognition.onnomatch=this.onNoMatch,this.recognition.onerror=this.onRecognitionError}onRecognitionStart(e){this.recognition.start()}onRecognitionEvent(e){const t=e.results[e.results.length-1][0].transcript.trim().toLowerCase();"старт"===t?this.player.play():"стоп"===t&&this.player.pause()}onSpeechEnd(){console.log("Speech end")}onNoMatch(e){console.log("I didn't recognise command")}onRecognitionError(e){console.log(`Error occurred in recognition: ${e.error}`)}loadedAudio(e){}onLoadedMetadata(){const e=this.player.duration(),t=this.player.controlBar.progressControl.children_[0].el_;console.log(t);for(let s=0;s<this.subtitles.length;s++){const i=a.frameToSeconds(this.subtitles[s].startFrame,this.fps),o=i/e*100+"%",r=i,n=document.createElement("div");n.className="vjs-marker",n.style.left=o;const l=document.createElement("span"),c=document.createTextNode(this.subtitles[s].textSubtitle);l.appendChild(c),n.appendChild(l),n.addEventListener("click",(()=>{this.player.currentTime(r)})),t.appendChild(n)}}onTimeUpdate(e){const t=Math.round(this.player.currentTime());if(t in this.timeDict&&null==this.timer){console.log(this.player.currentTime()),console.log(t);const e=this.player.volume();this.player.volume(.1);const s=this.timeDict[t],i=this.subtitles[s],o=a.frameToSeconds(i.endFrame-i.startFrame,this.fps);if(null!=i.voiceFilePath){const e=this.audioDict[i.voiceFilePath];e.play()}this.timer=setTimeout((()=>{this.timer=null,this.player.volume(e)}),1e3*o)}}beforeDestroy(){this.player&&this.player.dispose()}};Oe([(0,Re.Rl)("videoPlayer")],Pe.prototype,"videoPlayer",void 0),Oe([(0,Re.Rl)("audioPlayerRef")],Pe.prototype,"audioPlayer",void 0),Pe=Oe([(0,c.Ei)({props:{fps:Number,subtitles:Array,options:Object}})],Pe);var Se=Pe;const je=(0,g.Z)(Se,[["render",Ue]]);var Me=je,Ie=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let Le=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"videoOptions",null),(0,G.Z)(this,"video",null),(0,G.Z)(this,"fps",0),(0,G.Z)(this,"subtitles",[])}compareSubtitles(e,t){return e.startFrame>=t.startFrame?1:-1}async mounted(){const e=this.$route.params.id,t=parseInt(e,10);this.video=await K(t),this.fps=this.video.fps,this.subtitles=await B(t),this.subtitles=this.subtitles.sort(this.compareSubtitles),this.videoOptions={autoplay:!1,controls:!0,fluid:!0,poster:a.getUrl(this.video.videoPreviewPath),sources:[{src:a.getUrl(this.video.videoFilePath),type:"video/mp4"}]}}};Le=Ie([(0,c.Ei)({components:{VideoPlayer:Me}})],Le);var Ne=Le;const xe=(0,g.Z)(Ne,[["render",Ze]]);var Ge=xe;const Ce={class:"container-fluid upload-details"},Te=(0,n._)("div",{class:"row"},[(0,n._)("div",{class:"col-lg-12"},[(0,n._)("div",{class:"main-title"},[(0,n._)("h6",null,"Загрузка видео с YouTube")])])],-1),Ye={key:0,class:"row"},He=(0,n._)("div",{class:"col-lg-12"},[(0,n._)("div",{class:"main-title"},[(0,n._)("h6",null,"Детали загрузки")])],-1),Fe=(0,n._)("div",{class:"col-lg-2"},[(0,n._)("div",{class:"imgplace"})],-1),ze={class:"col-lg-10"},qe={class:"osahan-progress"},Ve={class:"progress"},Je=["aria-valuenow"],Qe=(0,n._)("div",{class:"osahan-close"},[(0,n._)("a",{href:"#"},[(0,n._)("i",{class:"fas fa-times-circle"})])],-1),We={class:"osahan-desc"},Ke={key:1},Be={class:"row"},Xe={class:"col-sm-6"},et={class:"form-group"},tt=(0,n._)("label",{class:"control-label"},[(0,n.Uk)("Url сервера с GPU "),(0,n._)("span",{class:"required"},"*")],-1),st={class:"row"},it={class:"col-sm-6"},ot={class:"form-group"},rt=(0,n._)("label",{class:"control-label"},[(0,n.Uk)("Url видео "),(0,n._)("span",{class:"required"},"*")],-1),at={class:"row"},nt={class:"col-sm-6"},lt={class:"form-group"},ct=(0,n._)("label",{class:"control-label"},[(0,n.Uk)("Файл для загрузки"),(0,n._)("span",{class:"required"},"*")],-1),dt={class:"box__file",ref:"uploadFile",type:"file",name:"uploadFile",id:"uploadFile"},ut={class:"row"},pt={class:"col-sm-6"},ht={class:"form-group"},gt=(0,n._)("label",{class:"control-label"},[(0,n.Uk)("Название "),(0,n._)("span",{class:"required"},"*")],-1),vt={class:"row"},mt={class:"col-sm-6"},ft={class:"form-group"},wt=(0,n._)("label",{class:"control-label"},[(0,n.Uk)("Описание "),(0,n._)("span",{class:"required"},"*")],-1),yt={class:"row"},bt={class:"col-sm-6"},_t={class:"form-group"},kt=(0,n._)("label",{class:"control-label"},[(0,n.Uk)("Категория "),(0,n._)("span",{class:"required"},"*")],-1),Zt=(0,n._)("option",{value:""},"Выбрать категорию",-1),Dt=(0,n._)("option",{value:"Фильмы"},"Фильмы",-1),$t=(0,n._)("option",{value:"Сериалы"},"Сериалы",-1),Et=(0,n._)("option",{value:"Клипы"},"Клипы",-1),Ut=[Zt,Dt,$t,Et],Rt={class:"row"},At={class:"col-sm-12"},Ot=["disabled"];function Pt(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)("div",Ce,[Te,e.progress>0?((0,n.wg)(),(0,n.iD)("div",Ye,[He,Fe,(0,n._)("div",ze,[(0,n._)("div",qe,[(0,n._)("div",Ve,[(0,n._)("div",{class:"progress-bar progress-bar-striped progress-bar-animated",role:"progressbar","aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100",style:(0,w.j5)({width:e.progress+"%"})},null,12,Je)]),Qe]),(0,n._)("div",We,(0,w.zw)(e.uploadingMessage),1)])])):(0,n.kq)("",!0),e.progress>0?((0,n.wg)(),(0,n.iD)("hr",Ke)):(0,n.kq)("",!0),(0,n._)("form",null,[(0,n._)("div",Be,[(0,n._)("div",Xe,[(0,n._)("div",et,[tt,(0,n.wy)((0,n._)("input",{class:"form-control border-form-control",placeholder:"https://localhost:5000","onUpdate:modelValue":t[0]||(t[0]=t=>e.gpuServerUrl=t),type:"text"},null,512),[[i.nr,e.gpuServerUrl,void 0,{trim:!0}]])])])]),(0,n._)("div",st,[(0,n._)("div",it,[(0,n._)("div",ot,[rt,(0,n.wy)((0,n._)("input",{class:"form-control border-form-control",placeholder:"https://youtube.com/anyvideo","onUpdate:modelValue":t[1]||(t[1]=t=>e.v$.url.$model=t),type:"text"},null,512),[[i.nr,e.v$.url.$model,void 0,{trim:!0}]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.url.$errors,(e=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:e},(0,w.zw)(`${e.$propertyPath}.${e.$validator}`),1)))),128))])])]),(0,n._)("div",at,[(0,n._)("div",nt,[(0,n._)("div",lt,[ct,(0,n._)("input",dt,null,512)])])]),(0,n._)("div",ut,[(0,n._)("div",pt,[(0,n._)("div",ht,[gt,(0,n.wy)((0,n._)("input",{class:"form-control border-form-control","onUpdate:modelValue":t[2]||(t[2]=t=>e.v$.name.$model=t),placeholder:"Название...",type:"text"},null,512),[[i.nr,e.v$.name.$model,void 0,{trim:!0}]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.name.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128))])])]),(0,n._)("div",vt,[(0,n._)("div",mt,[(0,n._)("div",ft,[wt,(0,n.wy)((0,n._)("input",{class:"form-control border-form-control","onUpdate:modelValue":t[3]||(t[3]=t=>e.v$.description.$model=t),placeholder:"Описание...",type:"text"},null,512),[[i.nr,e.v$.description.$model,void 0,{trim:!0}]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.description.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128))])])]),(0,n._)("div",yt,[(0,n._)("div",bt,[(0,n._)("div",_t,[kt,(0,n.wy)((0,n._)("select",{class:"custom-select","onUpdate:modelValue":t[4]||(t[4]=t=>e.v$.category.$model=t)},Ut,512),[[i.bM,e.v$.category.$model,void 0,{trim:!0}]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.category.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128))])])]),(0,n._)("div",Rt,[(0,n._)("div",At,[(0,n._)("button",{disabled:e.v$.$invalid,type:"button",class:"btn btn-success border-none",onClick:t[5]||(t[5]=(...t)=>e.onSave&&e.onSave(...t))},"Сохранить",8,Ot)])])])])}var St=s(3053),jt=s(9117),Mt=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let It=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"uploadingMessage",""),(0,G.Z)(this,"progress",0),(0,G.Z)(this,"v$",(0,St.ZP)()),(0,G.Z)(this,"gpuServerUrl","http://localhost:5000"),(0,G.Z)(this,"url","https://youtu.be/8TIdEezL7rc"),(0,G.Z)(this,"name",""),(0,G.Z)(this,"description",""),(0,G.Z)(this,"category",""),(0,G.Z)(this,"currentVideo",null),(0,G.Z)(this,"currentProcess",null),(0,G.Z)(this,"currentInterval",null),(0,G.Z)(this,"uploadFile",void 0),(0,G.Z)(this,"errors",{"name.required":"Обязательное поле","description.required":"Обязательное поле","category.required":"Обязательное поле","name.minLength":"Минимальная длина 6 символов","description.minLength":"Минимальная длина 8 символов"})}getError(e){return this.errors[e]}async onSave(){await this.uploadVideoForm()}async uploadVideoForm(){const{files:e}=this.uploadFile;if(!e)return;const t=new FormData;t.append("file",e[0]),t.append("name",this.name),t.append("description",this.description),t.append("category",this.category),this.uploadingMessage="Загрузка видео...",this.progress=10;try{const e=await V(t);e?(this.currentVideo=e,this.progress=20,this.uploadingMessage="Загрузка видео завершена",await this.processingVideoStart()):this.uploadingMessage="Ошибка попробуйте снова"}catch(s){s&&(this.uploadingMessage="Ошибка попробуйте снова")}}async downloadVideo(){this.uploadingMessage="Скачивание видео...",this.progress=10;this.url,this.name,this.description,this.category;try{const e=await K(5);e?(this.currentVideo=e,this.progress=20,this.uploadingMessage="Скачивание видео завершено",await this.processingVideoStart()):this.uploadingMessage="Ошибка попробуйте снова"}catch(e){e&&(this.uploadingMessage="Ошибка попробуйте снова")}}async processingVideoStart(){if(null==this.currentVideo)return;this.uploadingMessage="Запуск обработки...",this.progress=20;const e={id:0,videoId:this.currentVideo.id,status:0,dateStart:new Date,dateEnd:new Date,updatedAt:new Date,isSuccess:!1,errorMessage:""};try{const t=await J(e);t?(this.currentProcess=t,this.currentInterval=setInterval(this.getAndUpdateProcessStatus,5e3)):this.uploadingMessage="Ошибка попробуйте снова"}catch(t){t&&(this.uploadingMessage="Ошибка попробуйте снова")}}async getAndUpdateProcessStatus(){if(null!=this.currentProcess)try{const e=await Q(this.currentProcess.id);if(e)switch(e.dateEnd&&null!=e.errorMessage&&(this.uploadingMessage=e.errorMessage,this.stopUpdate()),this.currentProcess=e,this.currentProcess.status){case 0:this.uploadingMessage="Начат процесс...";break;case 1:this.uploadingMessage="Идет процесс детектирования сцен...",this.progress=30;break;case 2:this.uploadingMessage="Идет процесс преобразования Image to text...",this.progress=40;break;case 3:this.uploadingMessage="Идет процесс суммаризации текстов...",this.progress=60;break;case 4:this.uploadingMessage="Идет процесс перевода...",this.progress=80;break;case 5:this.uploadingMessage="Идет процесс озвучивания...",this.progress=90;break;case 6:this.uploadingMessage="Процесс заверщен",this.progress=100,this.stopUpdate();break;default:this.uploadingMessage="Неизвестный статус"}else this.progress=0,this.uploadingMessage="Ошибка попробуйте снова",this.stopUpdate()}catch(e){e&&(this.uploadingMessage="Ошибка попробуйте снова",this.stopUpdate())}}stopUpdate(){this.currentInterval&&clearInterval(this.currentInterval)}};Mt([(0,Re.Rl)("uploadFile")],It.prototype,"uploadFile",void 0),It=Mt([(0,c.Ei)({components:{},validations:{url:{required:jt.C1,minLength:(0,jt.Ei)(8),url:jt.HQ},name:{required:jt.C1,minLength:(0,jt.Ei)(8)},description:{required:jt.C1,minLength:(0,jt.Ei)(8)},category:{required:jt.C1}}})],It);var Lt=It;const Nt=(0,g.Z)(Lt,[["render",Pt]]);var xt=Nt,Gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC8AAAAvCAYAAABzJ5OsAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyMGU2OTA5Ni1jODhlLTA0NDMtODY4ZS1mNzJmOWE2NTllMmIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QUZFRTJGRUQ5RDYzMTFFODkxQTBFMzdEQTI1QkY1NUQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QUZFRTJGRUM5RDYzMTFFODkxQTBFMzdEQTI1QkY1NUQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M2MxZmE0YmEtMGUzZC02OTQyLWIyZGQtNTNiNTc4NzZjM2VkIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjIwZTY5MDk2LWM4OGUtMDQ0My04NjhlLWY3MmY5YTY1OWUyYiIv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";const Ct={class:"login-main-wrapper"},Tt={class:"container-fluid pl-0 pr-0"},Yt={class:"row no-gutters"},Ht={class:"col-md-5 p-5 bg-white full-height"},Ft={class:"login-main-left"},zt=(0,n._)("div",{class:"text-center mb-5 login-main-left-header pt-4"},[(0,n._)("img",{src:Gt,class:"img-fluid",alt:"LOGO"}),(0,n._)("h5",{class:"mt-3 mb-3"},"Вход")],-1),qt={class:"form-group"},Vt=(0,n._)("label",{for:"login"},"Telegram логин",-1),Jt={class:"form-group"},Qt=(0,n._)("label",{for:"password"},"Пароль",-1),Wt={class:"mt-4"},Kt={class:"row"},Bt={class:"col-12"},Xt=["disabled"],es=(0,n._)("div",{class:"text-center mt-5"},[(0,n._)("p",{class:"light-gray"},[(0,n.Uk)("Нет аккаунта? "),(0,n._)("a",{href:"/register"},"Регистрация")])],-1);function ts(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)("section",Ct,[(0,n._)("div",Tt,[(0,n._)("div",Yt,[(0,n._)("div",Ht,[(0,n._)("div",Ft,[zt,(0,n._)("form",null,[(0,n._)("div",qt,[Vt,(0,n.wy)((0,n._)("input",{id:"login","onUpdate:modelValue":t[0]||(t[0]=t=>e.v$.login.$model=t),type:"text",class:"form-control",placeholder:"telegram логин"},null,512),[[i.nr,e.v$.login.$model,void 0,{trim:!0}]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.login.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128))]),(0,n._)("div",Jt,[Qt,(0,n.wy)((0,n._)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.v$.password.$model=t),type:"password",class:"form-control",placeholder:"Пароль"},null,512),[[i.nr,e.v$.password.$model,void 0,{trim:!0}]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.password.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128))]),(0,n._)("div",Wt,[(0,n._)("div",Kt,[(0,n._)("div",Bt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.serverErrors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(t)),1)))),128)),(0,n._)("button",{disabled:e.v$.$invalid||e.isLoading,type:"button",class:"btn btn-outline-primary btn-block btn-lg",onClick:t[2]||(t[2]=(...t)=>e.signIn&&e.signIn(...t))},"Войти ",8,Xt)])])])]),es])])])])])}s(7658);var ss=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let is=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"isLoading",!1),(0,G.Z)(this,"serverErrors",[]),(0,G.Z)(this,"login",""),(0,G.Z)(this,"password",""),(0,G.Z)(this,"v$",(0,St.ZP)()),(0,G.Z)(this,"store",(0,d.oR)()),(0,G.Z)(this,"errors",{"login.required":"Обязательное поле","password.required":"Обязательное поле","login.minLength":"Минимальная длина 3 символа","password.minLength":"Минимальная длина 8 символов","user not found":"Пользователь не найден","wrong password":"Неверный пароль"})}getError(e){return this.errors[e]}async signIn(){const e={login:this.login,password:this.password};try{this.isLoading=!0,this.serverErrors=[];const t=await q(e);t&&(console.log(t),this.store.commit("setUser",t),this.$router.push({name:"home"}))}catch(t){t&&this.serverErrors.push(t.message)}finally{this.isLoading=!1}}};is=ss([(0,c.Ei)({components:{},validations:{login:{required:jt.C1,minLength:(0,jt.Ei)(3)},password:{required:jt.C1,minLength:(0,jt.Ei)(8)}}})],is);var os=is;const rs=(0,g.Z)(os,[["render",ts]]);var as=rs;const ns={class:"login-main-wrapper"},ls={class:"container-fluid pl-0 pr-0"},cs={class:"row no-gutters"},ds={class:"col-md-5 p-5 bg-white full-height"},us={class:"login-main-left"},ps=(0,n._)("div",{class:"text-center mb-5 login-main-left-header pt-4"},[(0,n._)("img",{src:Gt,class:"img-fluid",alt:"LOGO"}),(0,n._)("h5",{class:"mt-3 mb-3"},"Регистрация")],-1),hs={action:"#"},gs={class:"form-group"},vs=(0,n._)("label",null,"Имя",-1),ms={class:"form-group"},fs=(0,n._)("label",null,"Telegram логин",-1),ws={class:"form-group"},ys=(0,n._)("label",null,"Пароль",-1),bs={class:"mt-4"},_s=["disabled"],ks=(0,n._)("div",{class:"text-center mt-5"},[(0,n._)("p",{class:"light-gray"},[(0,n.Uk)("Уже есть аккаунт? "),(0,n._)("a",{href:"/login"},"Вход")])],-1);function Zs(e,t,s,o,r,a){return(0,n.wg)(),(0,n.iD)("section",ns,[(0,n._)("div",ls,[(0,n._)("div",cs,[(0,n._)("div",ds,[(0,n._)("div",us,[ps,(0,n._)("form",hs,[(0,n._)("div",gs,[vs,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=t=>e.v$.name.$model=t),class:"form-control",placeholder:"Имя"},null,512),[[i.nr,e.v$.name.$model,void 0,{trim:!0}]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.name.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128)),(0,n._)("div",ms,[fs,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.v$.login.$model=t),class:"form-control",placeholder:"Telegram логин"},null,512),[[i.nr,e.v$.login.$model,void 0,{trim:!0}]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.login.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128)),(0,n._)("div",ws,[ys,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.v$.password.$model=t),class:"form-control",placeholder:"Пароль"},null,512),[[i.nr,e.v$.password.$model,void 0,{trim:!0}]])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.v$.password.$errors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(`${t.$propertyPath}.${t.$validator}`)),1)))),128)),(0,n._)("div",bs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.serverErrors,(t=>((0,n.wg)(),(0,n.iD)("span",{class:"error-field",key:t},(0,w.zw)(e.getError(t)),1)))),128)),(0,n._)("button",{disabled:e.v$.$invalid||e.isLoading,type:"button",class:"btn btn-outline-primary btn-block btn-lg",onClick:t[3]||(t[3]=(...t)=>e.signUp&&e.signUp(...t))},"Регистрация ",8,_s)])]),ks])])])])])}var Ds=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let $s=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"isLoading",!1),(0,G.Z)(this,"serverErrors",[]),(0,G.Z)(this,"name",""),(0,G.Z)(this,"login",""),(0,G.Z)(this,"password",""),(0,G.Z)(this,"v$",(0,St.ZP)()),(0,G.Z)(this,"store",(0,d.oR)()),(0,G.Z)(this,"errors",{"name.required":"Обязательное поле","login.required":"Обязательное поле","password.required":"Обязательное поле","name.minLength":"Минимальная длина 3 символа","login.minLength":"Минимальная длина 3 символа","password.minLength":"Минимальная длина 8 символов","user already exists":"Пользователь уже существуе"})}getError(e){return this.errors[e]}async signUp(){const e={name:this.name,login:this.login,password:this.password};try{this.isLoading=!0,this.serverErrors=[];const t=await z(e);t&&(this.store.commit("setUser",t),this.$router.push({name:"home"}))}catch(t){t&&this.serverErrors.push(t.message)}finally{this.isLoading=!1}}};$s=Ds([(0,c.Ei)({components:{},validations:{name:{required:jt.C1,minLength:(0,jt.Ei)(3)},login:{required:jt.C1,minLength:(0,jt.Ei)(3)},password:{required:jt.C1,minLength:(0,jt.Ei)(8)}}})],$s);var Es=$s;const Us=(0,g.Z)(Es,[["render",Zs]]);var Rs=Us,As=s.p+"img/logo5.6047f0d2.png",Os=s.p+"img/user.74d2eea3.png";const Ps={class:"navbar navbar-expand navbar-light bg-white static-top osahan-nav sticky-top"},Ss=(0,n._)("button",{class:"btn btn-link btn-sm text-secondary order-1 order-sm-0",id:"sidebarToggle"},[(0,n._)("i",{class:"fas fa-bars"})],-1),js=(0,n.uE)('<a class="navbar-brand mr-1" href="/"><img class="img-fluid" alt="" src="'+As+'" style="height:40px;"></a><form class="d-none d-md-inline-block form-inline ml-auto mr-0 mr-md-5 my-2 my-md-0 osahan-navbar-search"><div class="input-group"><input type="text" class="form-control" placeholder="Поиск..."><div class="input-group-append"><button class="btn btn-light" type="button"><i class="fas fa-search"></i></button></div></div></form>',2),Ms={class:"navbar-nav ml-auto ml-md-0 osahan-right-navbar"},Is=(0,n._)("li",{class:"nav-item mx-1"},[(0,n._)("a",{class:"nav-link",href:"/upload"},[(0,n._)("i",{class:"fas fa-plus-circle fa-fw"}),(0,n.Uk)(" Загрузить видео ")])],-1),Ls={class:"nav-item dropdown no-arrow osahan-right-navbar-user"},Ns={class:"nav-link dropdown-toggle user-dropdown-link",href:"#",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},xs=(0,n._)("img",{alt:"Avatar",src:Os},null,-1),Gs={class:"nav-item osahan-right-navbar-user"},Cs=(0,n._)("i",{class:"fas fa-arrow-circle-right fa-fw"},null,-1),Ts=[Cs],Ys={id:"wrapper"},Hs=(0,n.uE)('<ul class="sidebar navbar-nav"><li class="nav-item active"><a class="nav-link" href="/"><i class="fas fa-fw fa-home"></i><span>Главная</span></a></li><li class="nav-item"><a class="nav-link" href="/video"><i class="fas fa-fw fa-video"></i><span>Видеоролики</span></a></li><li class="nav-item"><a class="nav-link" href="/upload"><i class="fas fa-fw fa-cloud-upload-alt"></i><span>Загрузить видео</span></a></li></ul>',1),Fs={id:"content-wrapper"};function zs(e,t,s,i,o,r){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",Ps,[(0,n.Uk)("    "),Ss,(0,n.Uk)("    "),js,(0,n._)("ul",Ms,[Is,(0,n._)("li",Ls,[(0,n._)("a",Ns,[xs,(0,n.Uk)(" "+(0,w.zw)(e.userName),1)])]),(0,n._)("li",Gs,[(0,n._)("a",{class:"nav-link",href:"#",onClick:t[0]||(t[0]=(...t)=>e.logout&&e.logout(...t))},Ts)])])]),(0,n._)("div",Ys,[Hs,(0,n._)("div",Fs,[(0,n.Wm)(a)])])],64)}var qs=function(e,t,s,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,s):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,s,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(a=(r<3?o(a):r>3?o(t,s,a):o(t,s))||a);return r>3&&a&&Object.defineProperty(t,s,a),a};let Vs=class extends c.w3{constructor(...e){super(...e),(0,G.Z)(this,"userName",""),(0,G.Z)(this,"store",(0,d.oR)())}logout(){this.store.commit("clearUser"),this.$router.push("/login")}mounted(){this.store.state.userId||this.$router.push("/login"),this.userName=this.store.state.userName}};Vs=qs([(0,c.Ei)({components:{}})],Vs);var Js=Vs;const Qs=(0,g.Z)(Js,[["render",zs]]);var Ws=Qs;const Ks=[{path:"/login",name:"login",component:as},{path:"/register",name:"register",component:Rs},{path:"",name:"main",component:Ws,children:[{path:"",name:"home",component:ie},{path:"/video",name:"video",component:ie},{path:"/video/:id",name:"video_id",component:Ge},{path:"/upload",name:"upload",component:xt}]}],Bs=(0,f.p7)({history:(0,f.PO)("/"),routes:Ks});var Xs=Bs;const ei=(0,d.MT)({state:{userId:0,userName:""},getters:{},mutations:{initialiseStore(e){const t=localStorage.getItem("store");t&&this.replaceState(Object.assign(e,JSON.parse(t)))},setUser(e,t){e.userId=t.id,e.userName=t.name},clearUser(e){e.userId=0,e.userName=""}},actions:{},modules:{}});ei.subscribe(((e,t)=>{localStorage.setItem("store",JSON.stringify(t))}));var ti=ei;const si=(0,i.ri)(m).use(ti).use(Xs);si.config.globalProperties.$utils=a,si.mount("#app")},5893:function(){}},t={};function s(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,i,o,r){if(!i){var a=1/0;for(d=0;d<e.length;d++){i=e[d][0],o=e[d][1],r=e[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&r||a>=r)&&Object.keys(s.O).every((function(e){return s.O[e](i[l])}))?i.splice(l--,1):(n=!1,r<a&&(a=r));if(n){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,r,a=i[0],n=i[1],l=i[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(o in n)s.o(n,o)&&(s.m[o]=n[o]);if(l)var d=l(s)}for(t&&t(i);c<a.length;c++)r=a[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},i=self["webpackChunkvideo_bplayer"]=self["webpackChunkvideo_bplayer"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(793)}));i=s.O(i)})();
//# sourceMappingURL=app.e181ba44.js.map